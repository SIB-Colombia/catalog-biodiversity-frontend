function Ficha(e){this.taxonnombre=e.taxonnombre,this.idCatalogo=e.idCatalogo,this.autor=e.autor,this.imagenes=e.imagenes,this.numeroFichaCarrusel=e.numero,this.taxoncompleto=e.taxoncompleto,this.nombresComunes=e.nombresComunes,this.organizaciones=e.organizaciones,this.departamentos=e.departamentos,this.contenidoNubePalabras=e.contenidoNubePalabras,this.idFichaTag=ko.computed(function(){return"ficha"+this.idCatalogo},this),this.textoNombresComunes=ko.computed(function(){var e="";for(var t in this.nombresComunes())e=e+this.nombresComunes()[t].tesauroNombre+(parseInt(t)<this.nombresComunes().length-1?", ":".");return e},this),this.textoDepartamentos=ko.computed(function(){var e="";for(var t in this.departamentos())e=e+this.departamentos()[t].nombre+(parseInt(t)<this.departamentos().length-1?", ":".");return e},this),this.imagenThumb140=ko.computed(function(){return this.imagenes()[Math.floor(Math.random()*this.imagenes().length)]},this),this.imagenThumb270=ko.computed(function(){return this.imagenes()[Math.floor(Math.random()*this.imagenes().length)]},this),this.imageToUse=ko.computed(function(){if(this.imagenes().length==0){var e=new Object;return e.urlImagen270="data:image/png;base64,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",e}return this.imagenes()[Math.floor(Math.random()*this.imagenes().length)]},this)}function NombreComun(e){this.tesauroNombre=e.tesauroNombre}function Imagen(e){this.urlImagen140=e.urlImagen140,this.urlImagen270=e.urlImagen270}function Organizacion(e){this.nombre=e.nombre}function Departamento(e){this.nombre=e.nombre}function Filter(e){this.subject=e.subject,this.predicate=e.predicate,this.objectName=e.objectName}function FichasCarruselViewModel(){var e=this;e.fichasCarrusel=ko.observableArray([]),e.newFichaCarruselNombreCientifico=ko.observable(),e.numeroFichaCarrusel=0,e.addFichaCarrusel=function(){e.numeroFichaCarrusel++,e.fichasCarrusel.push(new Ficha({taxonnombre:this.newFichaCarruselNombreCientifico(),numero:this.numeroFichaCarrusel})),$("a[data-toggle=popover]").popover()},e.removeFichaCarrusel=function(t){e.fichasCarrusel.remove(t)},e.showFichaElement=function(e){e.nodeType===1&&$(e).fadeIn()},$.ajax({url:"http://admin.catalogo.local/index.php/api/fichas/carrusel?count=6",type:"GET",dataType:"jsonp",success:function(t){for(var n in t){e.numeroFichaCarrusel++,this.imagenes=ko.observableArray([]);for(var r in t[n].atributos.ImagenThumb140)this.imagenes.push(new Imagen({urlImagen140:t[n].atributos.ImagenThumb140[r]}));this.nombresComunes=ko.observableArray([]);for(var i in t[n].nombres_comunes)this.nombresComunes.push(new NombreComun({tesauroNombre:t[n].nombres_comunes[i].tesauronombre}));this.departamentos=ko.observableArray([]),e.fichasCarrusel.push(new Ficha({taxonnombre:t[n].info_taxonomica.taxonnombre,idCatalogo:t[n].catalogoespecies_id,numero:e.numeroFichaCarrusel,imagenes:this.imagenes,nombresComunes:this.nombresComunes,departamentos:this.departamentos})),$("a[data-toggle=popover]").popover()}}})}function RecordsWallViewModel(){var e=this;e.currentPage=ko.observable(2),e.recordsWall=ko.observableArray([]),e.fichasCarrusel=ko.observableArray([]),e.newFichaCarruselNombreCientifico=ko.observable(),e.numeroFichaCarrusel=0,e.addFichaCarrusel=function(){e.numeroFichaCarrusel++,e.fichasCarrusel.push(new Ficha({taxonnombre:this.newFichaCarruselNombreCientifico(),numero:this.numeroFichaCarrusel})),$("a[data-toggle=popover]").popover()},e.removeFichaCarrusel=function(t){e.fichasCarrusel.remove(t)},e.showFichaElement=function(e){e.nodeType===1&&$(e).fadeIn()},$.ajax({url:"http://admin.catalogo.local/index.php/api/fichas/carrusel?count=6",type:"GET",dataType:"jsonp",success:function(t){for(var n in t){e.numeroFichaCarrusel++,this.imagenes=ko.observableArray([]);for(var r in t[n].atributos.ImagenThumb140)this.imagenes.push(new Imagen({urlImagen140:t[n].atributos.ImagenThumb140[r]}));this.nombresComunes=ko.observableArray([]);for(var i in t[n].nombres_comunes)this.nombresComunes.push(new NombreComun({tesauroNombre:t[n].nombres_comunes[i].tesauronombre}));this.departamentos=ko.observableArray([]),e.fichasCarrusel.push(new Ficha({taxonnombre:t[n].info_taxonomica.taxonnombre,idCatalogo:t[n].catalogoespecies_id,numero:e.numeroFichaCarrusel,imagenes:this.imagenes,nombresComunes:this.nombresComunes,departamentos:this.departamentos})),$("a[data-toggle=popover]").popover()}}}),e.isAllActive=ko.observable(!0),e.isInsectsActive=ko.observable(!1),e.isBirdsActive=ko.observable(!1),e.isPlantsActive=ko.observable(!1),e.isMammalsActive=ko.observable(!1),e.isReptiliaActive=ko.observable(!1),e.isFishesActive=ko.observable(!1),e.isFungusActive=ko.observable(!1),e.isFilterByAllActive=ko.observable(!0),e.isFilterByImagesActive=ko.observable(!1),e.isOrderByDateActive=ko.observable(!0),e.isOrderByScientificNameActive=ko.observable(!1),e.isOrderByAuthorActive=ko.observable(!1),e.isOrderDirectionDescActive=ko.observable(!0),e.isOrderDirectionAscActive=ko.observable(!1),e.removeFichaMuro=function(t){e.recordsWall.remove(t)},e.urlSearch=ko.computed(function(){var t="http://admin.catalogo.local/index.php/api/fichas?";return t=t+"page="+e.currentPage(),t},this),e.textCommonName=function(e){var t="";for(var n in e)t=t+e[n].tesauroNombre+(parseInt(n)<e.length-1?", ":".");return t},e.textDepartments=function(e){var t="";for(var n in e)t=t+e[n].nombre+(parseInt(n)<e.length-1?", ":".");return t},e.imageToUse=function(e,t){if(e.length==0){var n=new Object,r=/Reino\s\w*/i;if(r.exec(t)!==null)var i=r.exec(t)[0].replace("Reino","").replace(" ","");else var i="";var r=/Phylum\s\w*/i;if(r.exec(t)!==null)var s=r.exec(t)[0].replace("Phylum","").replace(" ","");else var s="";var r=/Clase\s\w*/i;if(r.exec(t)!==null)var o=r.exec(t)[0].replace("Clase","").replace(" ","");else var o="";var r=/Orden\s\w*/i;if(r.exec(t)!==null)var u=r.exec(t)[0].replace("Orden","").replace(" ","");else var u="";var r=/Familia\s\w*/i;if(r.exec(t)!==null)var a=r.exec(t)[0].replace("Familia","").replace(" ","");else var a="";var r=/Género\s\w*/i;if(r.exec(t)!==null)var f=r.exec(t)[0].replace("Género","").replace(" ","");else var f="";var r=/Especie\s\w*/i;if(r.exec(t)!==null)var l=r.exec(t)[0].replace("Especie","").replace(" ","");else var l="";return i=="Animalia"&&o=="Aves"?n.urlImagen270="/images/taxon_icons/aves2.png":i=="Animalia"&&o=="Reptilia"?n.urlImagen270="/images/taxon_icons/reptiles2.png":i!="Animalia"||o!="Mammalia"&&o!="Mamalia"?i=="Animalia"&&o=="Insecta"?n.urlImagen270="/images/taxon_icons/insectos2.png":i=="Plantae"?n.urlImagen270="/images/taxon_icons/plantas2.png":i=="Fungi"?n.urlImagen270="/images/taxon_icons/hongos2.png":i=="Animalia"&&o=="Amphibia"?n.urlImagen270="/images/taxon_icons/peces2.png":n.urlImagen270="data:image/png;base64,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":n.urlImagen270="/images/taxon_icons/mamiferos2.png",n}return e[Math.floor(Math.random()*e.length)]},$.ajax({url:"http://admin.catalogo.local/index.php/api/fichas?page=1",type:"GET",dataType:"jsonp",beforeSend:function(){$("#messageAndAlert").css({display:"block"}),$("#messageAndAlert").addClass("loading")},complete:function(){$("#messageAndAlert").removeClass("loading"),$("#messageAndAlert").css({display:"none"}),setTimeout(function(){$container.isotope("reLayout"),$container.infinitescroll({dataType:"json",debug:!1,appendCallback:!1,navSelector:".navigation",nextSelector:".navigation a"},function(t,n){var r=n.state.currPage;e.currentPage(r+1);for(var i in t){this.imagenes=ko.observableArray([]);if(t[i].atributos!==undefined)for(var s in t[i].atributos.ImagenThumb270)this.imagenes.push(new Imagen({urlImagen270:t[i].atributos.ImagenThumb270[s]}));this.nombresComunes=ko.observableArray([]);for(var o in t[i].nombres_comunes)this.nombresComunes.push(new NombreComun({tesauroNombre:t[i].nombres_comunes[o].tesauronombre}));this.departamentos=ko.observableArray([]);if(t[i].distribucion_geografica!==undefined){for(var u in t[i].distribucion_geografica.departamentos)this.departamentos.push(new Departamento({nombre:t[i].distribucion_geografica.departamentos[u]}));this.organizaciones=ko.observableArray([]);for(var a in t[i].distribucion_geografica.organizaciones)this.organizaciones.push(new Organizacion({nombre:t[i].distribucion_geografica.organizaciones[a]}))}e.recordsWall.push(new Ficha({idCatalogo:t[i].catalogoespecies_id,taxonnombre:t[i].info_taxonomica.taxonnombre.replace(/<[^>]*>?/gm,""),autor:t[i].info_taxonomica.autor,taxoncompleto:t[i].info_taxonomica.taxoncompleto,imagenes:this.imagenes,nombresComunes:this.nombresComunes,organizaciones:this.organizaciones,departamentos:this.departamentos})),$container.isotope("insert",$('<div class="element ficha"><a href="#"><img src="'+e.imageToUse(this.imagenes(),t[i].info_taxonomica.taxoncompleto).urlImagen270+'"></a><div class="ficha-muro-datos"><div class="ficha-muro-taxonnombre"><span>'+t[i].info_taxonomica.taxonnombre.replace(/<[^>]*>?/gm,"")+'</span></div><div class="ficha-muro-autor"><span>'+t[i].info_taxonomica.autor+'</span></div><div class="ficha-muro-taxoncompleto"><span>'+t[i].info_taxonomica.taxoncompleto+'</span></div><div class="ficha-muro-nombrescomunes"><strong>Nombres comunes:</strong> <span>'+e.textCommonName(this.nombresComunes())+'</span></div><div class="ficha-muro-departamentos"><strong>Departamentos:</strong> <span>'+e.textDepartments(this.departamentos())+"</span></div></div></div>")),setTimeout(function(){$container.isotope("reLayout")},0)}})},300)},success:function(t){for(var n in t){this.imagenes=ko.observableArray([]);if(t[n].atributos!==undefined)for(var r in t[n].atributos.ImagenThumb270)this.imagenes.push(new Imagen({urlImagen270:t[n].atributos.ImagenThumb270[r]}));this.nombresComunes=ko.observableArray([]);for(var i in t[n].nombres_comunes)this.nombresComunes.push(new NombreComun({tesauroNombre:t[n].nombres_comunes[i].tesauronombre}));if(t[n].distribucion_geografica!==undefined){this.departamentos=ko.observableArray([]);for(var s in t[n].distribucion_geografica.departamentos)this.departamentos.push(new Departamento({nombre:t[n].distribucion_geografica.departamentos[s]}));this.organizaciones=ko.observableArray([]);for(var o in t[n].distribucion_geografica.organizaciones)this.organizaciones.push(new Organizacion({nombre:t[n].distribucion_geografica.organizaciones[o]}))}e.recordsWall.push(new Ficha({idCatalogo:t[n].catalogoespecies_id,taxonnombre:t[n].info_taxonomica.taxonnombre.replace(/<[^>]*>?/gm,""),autor:t[n].info_taxonomica.autor,taxoncompleto:t[n].info_taxonomica.taxoncompleto,imagenes:this.imagenes,nombresComunes:this.nombresComunes,organizaciones:this.organizaciones,departamentos:this.departamentos})),$container.isotope("insert",$('<div class="element ficha"><a href="#"><img src="'+e.imageToUse(this.imagenes(),t[n].info_taxonomica.taxoncompleto).urlImagen270+'"></a><div class="ficha-muro-datos"><div class="ficha-muro-taxonnombre"><span>'+t[n].info_taxonomica.taxonnombre.replace(/<[^>]*>?/gm,"")+'</span></div><div class="ficha-muro-autor"><span>'+t[n].info_taxonomica.autor+'</span></div><div class="ficha-muro-taxoncompleto"><span>'+t[n].info_taxonomica.taxoncompleto+'</span></div><div class="ficha-muro-nombrescomunes"><strong>Nombres comunes:</strong> <span>'+e.textCommonName(this.nombresComunes())+'</span></div><div class="ficha-muro-departamentos"><strong>Departamentos:</strong> <span>'+e.textDepartments(this.departamentos())+"</span></div></div></div>"))}}})}var $container=$("#container");$.Isotope.prototype._getCenteredMasonryColumns=function(){this.width=this.element.width();var e=this.element.parent().width(),t=this.options.masonry&&this.options.masonry.columnWidth||this.$filteredAtoms.outerWidth(!0)||e,n=Math.floor(e/t);n=Math.max(n,1),this.masonry.cols=n,this.masonry.columnWidth=t},$.Isotope.prototype._masonryReset=function(){this.masonry={},this._getCenteredMasonryColumns();var e=this.masonry.cols;this.masonry.colYs=[];while(e--)this.masonry.colYs.push(0)},$.Isotope.prototype._masonryResizeChanged=function(){var e=this.masonry.cols;return this._getCenteredMasonryColumns(),this.masonry.cols!==e},$.Isotope.prototype._masonryGetContainerSize=function(){var e=0,t=this.masonry.cols;while(--t){if(this.masonry.colYs[t]!==0)break;e++}return{height:Math.max.apply(Math,this.masonry.colYs),width:(this.masonry.cols-e)*this.masonry.columnWidth}},$container.isotope({itemSelector:".element",masonry:{columnWidth:270}}),ko.applyBindings(new RecordsWallViewModel,$("#top-zone")[0])